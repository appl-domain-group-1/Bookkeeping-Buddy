{% extends 'base.html' %}
  {% block content %}
      <script>
        function email_balance_sheet() {
            let balance_html = document.getElementById('balance_sheet').innerHTML;
            window.location.href='{{url_for('fin_accts.email', document_name='Balance Sheet')}}';
        }
      </script>

<br>
<table>
        <tbody><tr>
            <td style="color: white">Start date:</td>
            <td><input type="text" id="min" name="min" style="width: 250px"></td>
        </tr>
        <tr>
            <td style="color: white">End date:</td>
            <td><input type="text" id="max" name="max" style="width: 250px"></td>
        </tr>
    </tbody></table>
<br>
<div class="table-responsive" id="balance_sheet">
    <table class = "table" style="height:110px; width:100%; border-bottom: 1px solid #F89E19">
        <thead><th>Balance Sheet</th></thead>
            <thead>
            <tr>
                <tr><th>Assets</th></tr>
            <td>
                <table>
            <thead>

                    <tr>
                        <td><div>Name of asset account</div>
                            <div style="font-weight: bold">Total Assets {{ total_assets }}</div></td>
                        <td >Amount</td>
                    </tr>

            </thead>
                    {% for account in data['Asset Accounts'] %}
                        <tr>
                            <td>
                                {{ account[1] }}
                            </td>
                            <td class="show-comma">
                                {{ account[2] }}
                            </td>
                        </tr>
                    {% endfor %}

        </table>
            </td>
    <td>
            <tr><th>Liability</th></tr>
            <td>
                <table>
                    <thead>
                            <tr>
                                <td><div>Name of liability account</div>
                                    <div style="font-weight: bold">Total Liabilities {{ total_liabilities }}</div></td>
                                <td >Amount</td>
                            </tr>

                    </thead>
                    {% for account in data['Liability Accounts'] %}
                        <tr>
                            <td>
                                {{ account[1] }}
                            </td>
                            <td class="show-comma">
                                {{ account[2] }}
                            </td>
                        </tr>
                    {% endfor %}
                </table>
            </td>
<td>
        <tr><th>Stock Holders Equity</th></tr>
    <td>
            <table>
                <thead>

                        <tr>
                            <td><div>Name of equity account</div>
                                <div style="font-weight: bold">Total Equity {{ total_equity }}</div></td>
                            <td >Amount</td>
                        </tr>

                </thead>
                {% for account in data['Equity Accounts'] %}
                        <tr>
                            <td>
                                {{ account[1] }}
                            </td>
                            <td class="show-comma">
                                {{ account[2] }}
                            </td>
                        </tr>
                    {% endfor %}
            </table>
        </td>

        </tr>
            </thead>
        <tfoot>
        <tr>
      <td>Total Assets</td>
      <td class="show-comma">{{ total_assets }}</td>
    </tr>
    <tr>
      <td>Total Liabilities and Shareholder Equity</td>
      <td class="show-comma">{{ total_liabilities + total_equity }}</td>
    </tr>
  </tfoot>
    </table>
</div>

      <div class="d-flex justify-content-center" >
        <button data-toggle="tooltip" data-placement="top" title="Save a copy of the balance sheet to your computer"  type="button" style="display: block; border-color: #F89E19; margin: auto; padding: 10px; background-color: #185DFF; color: white; border-radius: 6px; width: 200px"  onclick="alert('This should let the user download the file')">Save Balance Sheet</button>
        <button data-toggle="tooltip" data-placement="top" title="Print a copy of the balance sheet"  type="button" style="display: block; border-color: #F89E19; margin: auto; padding: 10px; background-color: #185DFF; color: white; border-radius: 6px; width: 200px"  onclick="window.print()">Print Balance Sheet</button>
        {% if g.user['role'] == 2 %}
            <button data-toggle="tooltip" data-placement="top" title="Email this balance sheet to someone" type="button" style="display: block; border-color: #F89E19; margin: auto; padding: 10px; background-color: #185DFF; color: white; border-radius: 6px; width: 200px"  onclick="email_balance_sheet()">Email Balance Sheet</button>
        {% endif %}
{% endblock %}
